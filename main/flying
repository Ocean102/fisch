local a=game.Players.LocalPlayer;local b=workspace.CurrentCamera;repeat wait()until a and a.Character and a.Character:findFirstChild("Torso")and a.Character:findFirstChild("Humanoid")local c=a:GetMouse()repeat wait()until c;local d=false;local e=Instance.new("NumberValue")local f={f=0,b=0,l=0,r=0}local g={f=0,b=0,l=0,r=0}function setSpeed(h)e.Value=h end;function fly()local a=a;local i=a.Character.Torso;local j=true;local k=0;local l=nil;local m=nil;d=true;l=Instance.new("BodyGyro",i)l.P=9e4;l.maxTorque=Vector3.new(9e9,9e9,9e9)m=Instance.new("BodyVelocity",i)m.velocity=Vector3.new(0,0.1,0)m.maxForce=Vector3.new(9e9,9e9,9e9)repeat wait()a.Character.Humanoid.PlatformStand=true;if f.l+f.r~=0 or f.f+f.b~=0 then k=e.Value*30 elseif not(f.l+f.r~=0 or f.f+f.b~=0)and k~=0 then k=0 end;if f.l+f.r~=0 or f.f+f.b~=0 then m.velocity=(b.CoordinateFrame.lookVector*(f.f+f.b)+game.Workspace.CurrentCamera.CoordinateFrame*CFrame.new(f.l+f.r,(f.f+f.b)*.2,0).p-game.Workspace.CurrentCamera.CoordinateFrame.p)*k;g={f=f.f,b=f.b,l=f.l,r=f.r}elseif f.l+f.r==0 and f.f+f.b==0 and k~=0 then m.velocity=(b.CoordinateFrame.lookVector*(g.f+g.b)+b.CoordinateFrame*CFrame.new(g.l+g.r,(g.f+g.b)*.2,0).p-b.CoordinateFrame.p)*k else m.velocity=Vector3.new(0,0.1,0)end;l.CFrame=b.CFrame until not d;f={f=0,b=0,l=0,r=0}g={f=0,b=0,l=0,r=0}k=0;l:Destroy()l=nil;m:Destroy()m=nil;a.Character.Humanoid.PlatformStand=false;wait(0.5)end;c.KeyDown:connect(function(n)if n:lower()=="w"then f.f=1 elseif n:lower()=="s"then f.b=-1 elseif n:lower()=="a"then f.l=-1 elseif n:lower()=="d"then f.r=1 end end)c.KeyUp:connect(function(n)if n:lower()=="w"then f.f=0 elseif n:lower()=="s"then f.b=0 elseif n:lower()=="a"then f.l=0 elseif n:lower()=="d"then f.r=0 end end)function unfly()d=false end;return{fly=fly,unfly=unfly,setSpeed=setSpeed}
